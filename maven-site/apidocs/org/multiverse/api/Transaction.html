<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_12) on Thu Oct 29 12:06:36 CET 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
Transaction (Multiverse Software Transactional Memory 0.3-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2009-10-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Transaction (Multiverse Software Transactional Memory 0.3-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Transaction.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/multiverse/api/StmUtils.html" title="class in org.multiverse.api"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/multiverse/api/TransactionStatus.html" title="enum in org.multiverse.api"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/multiverse/api/Transaction.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Transaction.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.multiverse.api</FONT>
<BR>
Interface Transaction</H2>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../org/multiverse/stms/alpha/AlphaTransaction.html" title="interface in org.multiverse.stms.alpha">AlphaTransaction</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../org/multiverse/stms/AbstractTransaction.html" title="class in org.multiverse.stms">AbstractTransaction</A>, <A HREF="../../../org/multiverse/stms/alpha/LoggingReadonlyAlphaTransaction.html" title="class in org.multiverse.stms.alpha">LoggingReadonlyAlphaTransaction</A>, <A HREF="../../../org/multiverse/stms/alpha/LoggingUpdateAlphaTransaction.html" title="class in org.multiverse.stms.alpha">LoggingUpdateAlphaTransaction</A>, <A HREF="../../../org/multiverse/stms/alpha/ReadonlyAlphaTransaction.html" title="class in org.multiverse.stms.alpha">ReadonlyAlphaTransaction</A>, <A HREF="../../../org/multiverse/stms/alpha/UpdateAlphaTransaction.html" title="class in org.multiverse.stms.alpha">UpdateAlphaTransaction</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>Transaction</B></DL>
</PRE>

<P>
All changes on AtomicObjects must be done through a Transaction. The transaction make sure that the changes
 are:
 <ol>
 <li>Atomic: all or nothing gets committed (Failure atomicity)</li>
 <li>Consistent : </li>
 <li>Isolated: a transaction is executed isolated from other transactions. Meaning that a transaction won't
 see changed made by transactions executed concurrently, but it will see changes made by transaction completed
 before.</li>
 </ol>
 <p/>
 A Transaction is not thread-safe to use (just like a Hibernate Session is not thread-safe to use). It can
 be handed over from transaction to transaction, but one needs to be really careful with threadlocals.
 Although the Stm/Transaction implementation don't care about threadlocals, the stuff in front (templates,
 instrumentation etc) could care about threadlocals.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Peter Veentjer.</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#abort()">abort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aborts this Transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#abortAndWaitForRetry()">abortAndWaitForRetry</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aborts and waits till this transaction can be retried.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#commit()">commit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commits this Transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#compensatingExecute(java.lang.Runnable)">compensatingExecute</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</A>&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a task to be executed <b>after</b> the transaction aborts.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#deferredExecute(java.lang.Runnable)">deferredExecute</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</A>&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a task to be executed <b>after</b> the transaction completes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#endOr()">endOr</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End the 'or' from the orelse block successfully.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#endOrAndStartElse()">endOrAndStartElse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ends the 'or' from the orelse block, rolls back all changes made within this block,
 and starts the else block.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#getFamilyName()">getFamilyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the family name of this Transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#getReadVersion()">getReadVersion</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the clock version of the stm when this Transaction started.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/multiverse/api/TransactionStatus.html" title="enum in org.multiverse.api">TransactionStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#getStatus()">getStatus</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the status of this Transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/multiverse/api/Transaction.html" title="interface in org.multiverse.api">Transaction</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#restart()">restart</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Restarts this Transaction by returning a Transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/multiverse/api/Transaction.html#startOr()">startOr</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts the 'or' from the 'orelse' block.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getFamilyName()"><!-- --></A><H3>
getFamilyName</H3>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getFamilyName</B>()</PRE>
<DL>
<DD>Returns the family name of this Transaction. Every transaction in principle should have
 a family name. This information can be used for debugging/logging purposes but also other
 techniques that rely to know something about similar types of transactions like profiling.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the familyName. The returned value can be null.</DL>
</DD>
</DL>
<HR>

<A NAME="getReadVersion()"><!-- --></A><H3>
getReadVersion</H3>
<PRE>
long <B>getReadVersion</B>()</PRE>
<DL>
<DD>Returns the clock version of the stm when this Transaction started. This version is
 needed to provide a transaction level read consistent view (so a transaction will always
 see a stable view of the objects at some point in time). The returned version will
 always be larger than Long.MIN_VALUE.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the version of the stm when this Transaction started.</DL>
</DD>
</DL>
<HR>

<A NAME="getStatus()"><!-- --></A><H3>
getStatus</H3>
<PRE>
<A HREF="../../../org/multiverse/api/TransactionStatus.html" title="enum in org.multiverse.api">TransactionStatus</A> <B>getStatus</B>()</PRE>
<DL>
<DD>Returns the status of this Transaction.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the status of this Transaction.</DL>
</DD>
</DL>
<HR>

<A NAME="commit()"><!-- --></A><H3>
commit</H3>
<PRE>
long <B>commit</B>()</PRE>
<DL>
<DD>Commits this Transaction. If the Transaction already is committed, the call is ignored.
 <p/>
 Transaction will be aborted if the commit does not succeed.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the new version if the commit was a success. If the there are no changes, the readVersion
         if the transaction is returned. Otherwise the writeVersion of the transaction is returned.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/WriteConflictException.html" title="class in org.multiverse.api.exceptions">WriteConflictException</A></CODE>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if this transaction already is aborted.</DL>
</DD>
</DL>
<HR>

<A NAME="abort()"><!-- --></A><H3>
abort</H3>
<PRE>
void <B>abort</B>()</PRE>
<DL>
<DD>Aborts this Transaction. This means that the changes made in this transaction are not
 committed. It depends on the implementation if this operation is simple (ditching objects
 for example), or if changes need to be rolled back.
 <p/>
 If the Transaction already is aborted, the call is ignored.
 <p/>
 It is important that the abort never fails.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if this transaction already is committed</DL>
</DD>
</DL>
<HR>

<A NAME="restart()"><!-- --></A><H3>
restart</H3>
<PRE>
<A HREF="../../../org/multiverse/api/Transaction.html" title="interface in org.multiverse.api">Transaction</A> <B>restart</B>()</PRE>
<DL>
<DD>Restarts this Transaction by returning a Transaction. Can only be done if the transaction has been
 committed or aborted.
 <p/>
 It could be that the same instance is returned just by resetting the instance.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/ResetFailureException.html" title="class in org.multiverse.api.exceptions">ResetFailureException</A></CODE> - if the restart has failed (for example
          because the transaction is still active).</DL>
</DD>
</DL>
<HR>

<A NAME="abortAndWaitForRetry()"><!-- --></A><H3>
abortAndWaitForRetry</H3>
<PRE>
void <B>abortAndWaitForRetry</B>()</PRE>
<DL>
<DD>Aborts and waits till this transaction can be retried. This functionality is required for the retry
 mechanism and is something different than 'just' aborting an retrying the transaction. If you want to
 do that, you need to call an abort followed by a restart.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/NoProgressPossibleException.html" title="class in org.multiverse.api.exceptions">NoProgressPossibleException</A></CODE> - if the retry can't make progress, e.g.
          because the transaction has not loaded any object.
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if this transaction already is committed or aborted.</DL>
</DD>
</DL>
<HR>

<A NAME="startOr()"><!-- --></A><H3>
startOr</H3>
<PRE>
void <B>startOr</B>()</PRE>
<DL>
<DD>Starts the 'or' from the 'orelse' block.
 <p/>
 The orelse block is needed for the orelse functionality:
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if this transaction already is committed or aborted.
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A></CODE> - if the implementation doesn't support it.<DT><B>See Also:</B><DD><A HREF="../../../org/multiverse/api/Transaction.html#endOr()"><CODE>endOr()</CODE></A>, 
<A HREF="../../../org/multiverse/api/Transaction.html#endOrAndStartElse()"><CODE>endOrAndStartElse()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="endOr()"><!-- --></A><H3>
endOr</H3>
<PRE>
void <B>endOr</B>()</PRE>
<DL>
<DD>End the 'or' from the orelse block successfully. No rollbacks are done.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if this transaction already is committed or aborted.
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A></CODE> - if the implementation doesn't support it.<DT><B>See Also:</B><DD><A HREF="../../../org/multiverse/api/Transaction.html#startOr()"><CODE>startOr()</CODE></A>, 
<A HREF="../../../org/multiverse/api/Transaction.html#endOrAndStartElse()"><CODE>endOrAndStartElse()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="endOrAndStartElse()"><!-- --></A><H3>
endOrAndStartElse</H3>
<PRE>
void <B>endOrAndStartElse</B>()</PRE>
<DL>
<DD>Ends the 'or' from the orelse block, rolls back all changes made within this block,
 and starts the else block.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if this transaction already is committed or aborted.
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A></CODE> - if the implementation doesn't support it.<DT><B>See Also:</B><DD><A HREF="../../../org/multiverse/api/Transaction.html#endOr()"><CODE>endOr()</CODE></A>, 
<A HREF="../../../org/multiverse/api/Transaction.html#startOr()"><CODE>startOr()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="deferredExecute(java.lang.Runnable)"><!-- --></A><H3>
deferredExecute</H3>
<PRE>
void <B>deferredExecute</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</A>&nbsp;task)</PRE>
<DL>
<DD>Registers a task to be executed <b>after</b> the transaction completes. If the transaction
 aborts, all tasks are discarded.
 <p/>
 If the execution of one of the tasks fails, the others won't be executed.
 <p/>
 There is no guaranteed order of execution of the tasks.
 <p/>
 If the same tasks is added multiple times, it could be executed multiple
 times (no guarantee).
 <p/>
 The tasks will be executed on the current thread that calls the commit.
 <p/>
 If the task accesses the STM, it could see changes made after the commit
 of the current transaction. So they will not be running on the same transaction.
 <p/>
 A good use case of this feature is starting up threads. If you need to
 start threads, you don't want to start them immediately because eventually
 the transaction could be aborted. And another problem is that new transaction started
 by spawned threads are not able to see the changes already made in the current transaction,
 because the current transaction hasn't completed yet.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - the task to execute after the transaction completes.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</A></CODE> - if task is null.
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if transaction already is aborted or committed.</DL>
</DD>
</DL>
<HR>

<A NAME="compensatingExecute(java.lang.Runnable)"><!-- --></A><H3>
compensatingExecute</H3>
<PRE>
void <B>compensatingExecute</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</A>&nbsp;task)</PRE>
<DL>
<DD>Registers a task to be executed <b>after</b> the transaction aborts. If the transaction
 commits, all tasks are discarded.
 <p/>
 If the execution of one of the tasks fails, the others won't be executed.
 <p/>
 There is no guaranteed order of execution of the tasks.
 <p/>
 If the same tasks is added multiple times, it could be executed multiple
 times (no guarantee).
 <p/>
 The tasks will be executed on the current thread that calls aborts the transaction.
 <p/>
 A good use case of this feature is cleaning up resources.
 <p/>
 It is important to remember that the task is not going to see the changes
 made by the transaction, because the transaction aborts before the task
 is executed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - the task to execute after the transaction aborts.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</A></CODE> - if task is null.
<DD><CODE><A HREF="../../../org/multiverse/api/exceptions/DeadTransactionException.html" title="class in org.multiverse.api.exceptions">DeadTransactionException</A></CODE> - if transaction already is aborted or committed.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Transaction.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/multiverse/api/StmUtils.html" title="class in org.multiverse.api"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/multiverse/api/TransactionStatus.html" title="enum in org.multiverse.api"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/multiverse/api/Transaction.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Transaction.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2008-2009 <a href="http://multiverse.googlecode.com">Multiverse</a>. All Rights Reserved.
</BODY>
</HTML>
